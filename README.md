# cmcc_signin：以四川移动掌上营业厅的名义，自动签到，自动抽奖
### 起因
四川移动掌厅就是那个可以领流量的图标是熊猫的app。想当年我还在用移动的电话卡的时候，每个月都会屁颠屁颠的用这个软件抽奖和签到，签到5天即可领取100M流量，抽奖说不定可以抽个宝马...然而现在我已经转到电信无限流量的阵营了，早就厌倦了移动的套路，至于写这个自动脚本，主要还是因为老妈还在用移动的卡，我也还养着一张没怎么用但绑定了很多东西的移动卡，目前先将就写个脚本自动帮老妈自动签到领流量和抽奖。我本来只想写个签到的功能，结果抓包发现抽奖的逻辑和签到大同小异，也就一并写了。
很久没脱离框架写东西了，写得比较随意，curl用的是第三方轮子，自己就不造轮子了。这个小项目拖延了好久，终于今天在公司搬砖的时候，抽了两个小时写出来了，抓包分析的过程挺费时间的。

### 使用方法
由于比较简单，配置是直接写在类里的，注释也很清楚了，就不详细说了。在使用前，将$userInfo中的SSOCookie和sendKey改为自己的即可。SSOCookie是四川移动掌厅验证用户是否登录的cookie，通过抓包取得。sendKey是一个叫做serverchan的第三方微信推送接口需要用到的密钥，具体参考[这里](http://sc.ftqq.com/3.version)取得，我选的是一对多推送那个。改完上传到服务器，用crontab定时执行就ok。

### 待追加功能
- 自动登录，无需手动获取SSOCookie
- 互赠流量
